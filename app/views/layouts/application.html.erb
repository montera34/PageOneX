<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageOneX</title>
    <%= csrf_meta_tags %>
    <%= javascript_include_tag "application" %>

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->

    <!-- Le styles -->
    <%= stylesheet_link_tag "application", :media => "all" %>
    <style type="text/css">
      body, p{
        font-family: 'Signika Negative', sans-serif;
      }
    </style>

    <!-- Le fav and touch icons 
    <link href="images/favicon.ico" rel="shortcut icon">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="images/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72">
    <link href="images/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114">
    -->
  </head>
  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
          <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">PageOneX</a>
          <div class="container nav-collapse">
            <ul class="nav">
                <li><%= link_to "", "/path1"  %></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content">
        <div class="row">
           <div class="span9">

            <% if notice %>
              <div class="alert">
                <a class="close" data-dismiss="alert" href="#">×</a>
                <p><%= notice %></p>
              </div>
            <% elsif alert %>
              <div class="alert alert-error">
                <a class="close" data-dismiss="alert" href="#">×</a>
                <p><%= alert %></p>
              </div>
            <% end %>
            <% if params[:controller] == "threads" || params[:controller] == "coding"%>
            <ul class="breadcrumb">
              <li id="initiate">
                <a href="#">Initiate</a> <span class="divider">>></span>
              </li>
              <li id="code" class="active">
                <a href="#">Code</a> <span class="divider">>></span>
              </li>
              <li id="visualize"><a href="#">Visualize</a></li>
            </ul>
            <% end %>
            <%= yield %>
            </div>
            <div class="span3">
              <% if user_signed_in? %>
                <div class="well sidebar-nav">
                <h3><%= current_user.username.capitalize %></h3>
                <%= link_to "Sign out", destroy_user_session_path, :method => :delete  %>
                </div>
              <% end %>
              
              <div class="well sidebar-nav">
                <h3>Opened Threads</h3>
                <ul class="nav nav-list">
                  <li class="nav-header">International</li>
                    <li><%= link_to "Occupy", "threads/Occupy"  %></li>
                    <li><%= link_to "NBA Finals", "threads/NBA Finals"  %></li>
                    <li><%= link_to "Arab Spring", "threads/Arab Spring"  %></li>
                    <li><%= link_to "15M", "threads/15M"  %></li>
                    <li><%= link_to "Japanese Tsunami", "threads/Japanese Tsunami"  %></li>
                </ul>
              </div><!--/.well -->

            </div><!--/span-->
        </div><!--/row-->
      </div><!--/content-->
      <hr> 
      <footer>
        <p>&copy; PageOneX 2012</p>
      </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- <link href='http://fonts.googleapis.com/css?family=Cabin:400,500,600,700,400italic' rel='stylesheet' type='text/css'> -->

    <link href='http://fonts.googleapis.com/css?family=Signika+Negative:300,400,600,700' rel='stylesheet' type='text/css'>
    
    
    <script type="text/javascript">
      $(function () {
        media_count=1
        media_element = $("#media1");
        media_label_element = $("#media_label1");
        $("#add_media").on("click",function () {
          cloned_m_e = media_element.clone();
          cloned_m_l_e = media_label_element.clone();

          cloned_m_l_e.attr("id", "media_label" + ++media_count);
          cloned_m_l_e.attr("for", "media" + media_count);
          cloned_m_l_e.text("Media"+media_count);

          cloned_m_e.attr("id", "media" + media_count);
          cloned_m_e.attr("name", "media" + media_count);

          $(cloned_m_l_e).insertBefore('#add_media');
          $(cloned_m_e).insertBefore('#add_media');
          $("<br/>").insertBefore('#add_media');
          $("#media_count").attr("value", media_count);
        });

        topic_count=1
        topic_element = $("#topic1");
        topic_label_element = $("#topic_label1");
        $("#add_topic").on("click",function () {
          cloned_t_e = topic_element.clone();
          cloned_t_l_e = topic_label_element.clone();

          cloned_t_e.attr("text","");
          cloned_t_l_e.attr("id", "topic_label" + ++topic_count);
          cloned_t_l_e.attr("for", "topic" + topic_count);
          cloned_t_l_e.text("Topic"+topic_count);

          cloned_t_e.attr("id", "topic" + topic_count);
          cloned_t_e.attr("name", "topic" + topic_count);

          $(cloned_t_l_e).insertBefore('#add_topic');
          $(cloned_t_e).insertBefore('#add_topic');
          $("<br/>").insertBefore('#add_topic');
          $("#topic_count").attr("value", topic_count);
        });
        
      });
    </script>
  </body>
</html>
